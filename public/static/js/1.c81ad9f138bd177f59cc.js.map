{"version":3,"sources":["webpack:///src/module/setting/store.vue","webpack:///./src/module/setting/store.vue?8313","webpack:///./src/module/setting/store.vue","webpack:///./src/common/helper/utils.js"],"names":["store","computed","extends_default","Object","vuex_esm","proxy","next","mixin","activeStore","_this","this","_this2","user","then","_","setting_store","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","label-width","label","clearable","placeholder","model","value","callback","$$v","$set","expression","_v","active-color","type","on","click","submit","directives","name","rawName","deleteStore","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","clone","object","extension","tmp","realType","index","indexOf","forEach","item","result","key","hasOwnProperty","replace","all","letter","toUpperCase","o","prototype","toString","call","slice","toLowerCase","parse","re","JSON","err"],"mappings":"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","file":"static/js/1.c81ad9f138bd177f59cc.js","sourcesContent":["<style lang=\"less\" scoped>\n  .container-set {\n    padding: 50px;\n  }\n</style>\n\n<template>\n  <div class=\"container-set\">\n    <el-form class=\"container\" ref=\"form\" label-width=\"80px\" >\n\n      <el-form-item  label=\"仓库\">\n        <el-input clearable v-model=\"activeStore.newUser\" placeholder=\"仓库名称\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"proxyHost\">\n        <el-input clearable\n                  placeholder=\"代理仓库名称\"\n                  v-model=\"proxy.host\"\n        >\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"运行端口\">\n        <el-input clearable\n                  placeholder=\"默认80\"\n                  v-model=\"proxy.port\"\n        >\n\n        </el-input>\n      </el-form-item>\n\n      <el-form-item label=\"proxyCache\">\n        <el-switch\n          v-model=\"proxy.cache\"\n          active-color=\"#13ce66\"\n        >\n        </el-switch>\n        <span> 代理请求成功后是否缓存数据</span>\n      </el-form-item>\n      <el-form-item label=\"运行\">\n        <el-switch\n          v-model=\"proxy.start\"\n          active-color=\"#13ce66\"\n        >\n        </el-switch>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submit\" >提交修改</el-button>\n        <el-button type=\"danger\" v-show=\"activeStore.user !=='default' \"  @click=\"deleteStore\">删除仓库</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import {mapState, mapActions} from 'vuex'\n  import {clone} from \"common/helper/utils\";\n  import mixin from './mixin'\n\n  export default {\n    data() {\n      return {\n        loading: false,\n        activeStore:{\n          user: '',\n          newUser: '',\n          proxy: {\n            host: 'default',\n            port: 80,\n            cache: false,\n            start: false,\n          }\n        }\n      }\n    },\n    props:['store'],\n    computed: {\n      ...mapState(['storeList']),\n      proxy(){\n        return this.activeStore.proxy\n      },\n    },\n    beforeRouteUpdate(to,from,next){\n      this.init(to.params.store)\n      next()\n    },\n    created() {\n    },\n    mounted(){\n      this.init(this.store)\n    },\n    mixins: [mixin],\n    methods: {\n      init(user){\n        var activeStore = this.storeList.filter(item=>{return item.store === user})[0]\n        if(activeStore){\n          this.activeStore = clone(activeStore)\n        }\n      },\n      submit() {\n        if (!this.test(this.activeStore)) return;\n        this.post('/setting/updateStore', this.activeStore).then(json => {\n          this.tip('修改成功！')\n          this.dispatch('getStoreList')\n        })\n      },\n      deleteStore(){\n        var params = {user: this.activeStore.user}\n        if (!this.test(params)) {\n          return;\n        }\n        this.$confirm('此操作将永久删除该仓库, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(_=>{\n          this.post('/setting/rmStore',params).then(json=>{\n            this.tip('删除成功')\n          })\n          this.dispatch('getStoreList')\n        })\n      }\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/module/setting/store.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-set\"},[_c('el-form',{ref:\"form\",staticClass:\"container\",attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"仓库\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"仓库名称\"},model:{value:(_vm.activeStore.newUser),callback:function ($$v) {_vm.$set(_vm.activeStore, \"newUser\", $$v)},expression:\"activeStore.newUser\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"proxyHost\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"代理仓库名称\"},model:{value:(_vm.proxy.host),callback:function ($$v) {_vm.$set(_vm.proxy, \"host\", $$v)},expression:\"proxy.host\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"运行端口\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"默认80\"},model:{value:(_vm.proxy.port),callback:function ($$v) {_vm.$set(_vm.proxy, \"port\", $$v)},expression:\"proxy.port\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"proxyCache\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\"},model:{value:(_vm.proxy.cache),callback:function ($$v) {_vm.$set(_vm.proxy, \"cache\", $$v)},expression:\"proxy.cache\"}}),_vm._v(\" \"),_c('span',[_vm._v(\" 代理请求成功后是否缓存数据\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"运行\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\"},model:{value:(_vm.proxy.start),callback:function ($$v) {_vm.$set(_vm.proxy, \"start\", $$v)},expression:\"proxy.start\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交修改\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeStore.user !=='default' ),expression:\"activeStore.user !=='default' \"}],attrs:{\"type\":\"danger\"},on:{\"click\":_vm.deleteStore}},[_vm._v(\"删除仓库\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-911f996a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/setting/store.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-911f996a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./store.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./store.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./store.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-911f996a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./store.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-911f996a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/setting/store.vue\n// module id = null\n// module chunks = ","/**\n * utils 工具库\n *@clone 深拷贝对象数组 本地属性。忽略 函数,日期, symbol\n *@realType 获取一个数据的真实类型\n *@extend params (Object...) 接收n个Object，忽略其他类型，递归覆盖\n * Created by liux on 2017/12/13.\n */\nfunction clone(object, extension) {\n  var tmp = null;\n  var type = realType(object);\n  var index = ['array', 'object'].indexOf(type);\n  if (index !== -1) {\n    switch (index) {\n      case 0:\n        tmp = [];\n        object.forEach((item, index) => {\n          let result = clone(item, extension);\n          tmp[index] = result;\n        });\n        break;\n      case 1:\n        tmp = {};\n        for (let key in object) {\n          if (object.hasOwnProperty(key)) {\n            let result = clone(object[key], extension);\n            if(extension === 'underscore2camelCase'){\n              key =  key.replace(/_(\\w)/g, function(all, letter){\n                return letter.toUpperCase();\n              });\n            }\n            tmp[key] = result;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n\n    return tmp;\n  } else {\n    if (['number', 'string', 'null', 'undefined', 'boolean'].indexOf(realType(object)) !== -1) {\n      tmp = object;\n    }\n    return tmp;\n  }\n}\n\n\n\nfunction realType(o) {\n  return Object.prototype.toString.call(o).slice(8, -1).toLowerCase();\n};\n\nfunction parse(value) {\n  var re = '';\n  try {\n    re = JSON.parse(value);\n  } catch (err) {\n    return value;\n  }\n  return re;\n}\n\nfunction extend(...arr) {\n  arr = arr.filter(item => {\n    return realType(item) === 'object';\n  });\n  if (arr.length <= 1) return arr[0];\n  return arr.reduce(function(previousValue, currentValue) {\n    return recursive(previousValue, currentValue);\n  });\n\n}\n\nfunction recursive(taget={}, source) {\n  for (var key in source) {\n    if (realType(source[key]) !== 'object') {\n      taget[key] = source[key];\n    } else {\n      if(realType(taget[key]) === 'object'){\n        taget[key] = recursive(taget[key], source[key]);\n      }else {\n        taget[key] = recursive({}, source[key]);\n      }\n    }\n  }\n  return taget;\n}\n\n\nfunction underscore2camelCase(object) {\n  return clone(object,'underscore2camelCase')\n}\n\nexport {\n  clone,\n  realType,\n  parse,\n  extend,\n  underscore2camelCase\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/helper/utils.js"],"sourceRoot":""}