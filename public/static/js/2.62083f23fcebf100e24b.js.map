{"version":3,"sources":["webpack:///./src/common/helper/utils.js","webpack:///./src/module/apiList/mixin.js","webpack:///src/module/apiList/api.vue","webpack:///./src/module/apiList/api.vue?73e6","webpack:///./src/module/apiList/api.vue"],"names":["clone","object","extension","tmp","type","realType","index","indexOf","forEach","item","result","key","hasOwnProperty","replace","all","letter","toUpperCase","o","Object","prototype","toString","call","slice","toLowerCase","parse","value","re","JSON","err","Map","data","slient","this","$notify","error","title","message","url","test","newUrl","_Map$url","apply","concat","Array","arguments","page","opt","weight","stringify_default","mixin","methods","obj","arr","_this","keys_default","every","api","computed","extends_default","vuex_esm","val","to","next","timer","mat","_this2","resizeTextarea","_this3","store","currentStore","_this4","totalPage","_this5","currentJsonData","id","currentPage","_this6","_this7","apiList_api","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","enter-active-class","leave-active-class","directives","name","rawName","expression","addJson","placeholder","domProps","on","input","$event","target","composing","$set","_v","size","icon","circle","click","add","clean","innerHTML","_s","jsonlint","autosize","minRows","model","callback","$$v","clearable","searchLoading","plain","loading","closable","show-icon","_l","searchApiList","length","update","rm","ref","refInFor","searchSize","maxRows","focus","resetSearch","blur","_e","reset","background","layout","page-count","current-change","selectPage","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"yEAOA,SAASA,EAAMC,EAAQC,GACrB,IAAIC,EAAM,KACNC,EAAOC,EAASJ,GAChBK,GAAS,QAAS,UAAUC,QAAQH,GACxC,IAAe,IAAXE,EAAc,CAChB,OAAQA,GACN,KAAK,EACHH,KACAF,EAAOO,QAAQ,SAACC,EAAMH,GACpB,IAAII,EAASV,EAAMS,EAAMP,GACzBC,EAAIG,GAASI,IAEf,MACF,KAAK,EAEH,IAAK,IAAIC,KADTR,KACgBF,EACd,GAAIA,EAAOW,eAAeD,GAAM,CAC9B,IAAID,EAASV,EAAMC,EAAOU,GAAMT,GACf,yBAAdA,IACDS,EAAOA,EAAIE,QAAQ,SAAU,SAASC,EAAKC,GACzC,OAAOA,EAAOC,iBAGlBb,EAAIQ,GAAOD,GAQnB,OAAOP,EAKP,OAHwF,KAAnF,SAAU,SAAU,OAAQ,YAAa,WAAWI,QAAQF,EAASJ,MACxEE,EAAMF,GAEDE,EAMX,SAASE,EAASY,GAChB,OAAOC,OAAOC,UAAUC,SAASC,KAAKJ,GAAGK,MAAM,GAAI,GAAGC,cAGxD,SAASC,EAAMC,GACb,IAAIC,EAAK,GACT,IACEA,EAAKC,KAAKH,MAAMC,GAChB,MAAOG,GACP,OAAOH,EAET,OAAOC,kRCtDHG,GACJC,KADU,SACLL,EAAOM,GACV,IACEN,EAAQE,KAAKH,MAAMC,GACpB,MAAMG,GAOL,OANKG,GACHC,KAAKC,QAAQC,OACbC,MAAO,WACPC,QAASR,KAGJ,EAET,OAAOH,GAETY,IAfU,SAeNZ,EAAOM,GACT,QAAI,cAAcO,KAAKb,KAGhBM,GACHC,KAAKC,QAAQC,OACXC,MAAO,UACPC,QAASX,KAGN,IAGXc,OA5BU,WA4BD,IAAAC,EACP,OAAOA,EAAAX,EAAIQ,KAAIhB,KAARoB,MAAAD,GAAaR,MAAbU,OAAAC,MAAAxB,UAAAG,MAAAD,KAAqBuB,cAE9BC,KA/BU,SA+BLpB,EAAMM,GACT,QAAKN,IAAS,SAASa,KAAKb,MAGrBM,GACHC,KAAKC,QAAQC,OACXC,MAAO,SACPC,QAASX,KAGN,IAGXqB,IA5CU,SA4CNrB,EAAMM,GACR,QAAKN,EAAMsB,SAAU,SAAST,KAAKb,EAAMsB,WAGlChB,GACHC,KAAKC,QAAQC,OACXC,MAAO,UACPC,QAASY,IAAevB,MAGrB,KAIbwB,GACEC,SACEZ,KADO,SACFa,EAAKC,EAAKrB,GAAO,IAAAsB,EAAArB,KAMpB,MALmB,kBAARoB,IACTrB,EAASqB,EACTA,EAAM,OAERA,EAAMA,GAAOE,IAAYH,IACdI,MAAM,SAAC5C,GAChB,GAAwB,mBAAbkB,EAAIlB,GAAqB,CAClC,IAAIe,EAAMG,EAAIlB,GAAKU,KAATgC,EAAoBF,EAAIxC,GAAMoB,GAIxC,MAHkB,kBAAPL,IACTyB,EAAIxC,GAAOe,GAENA,EAEP,OAAO,OC4JjB8B,uCAKA,QAEA,kCAGA,SACA,uDAcAC,SAAAC,OAAAxC,OAAAyC,EAAA,EAAAzC,EAAA,yBACA,8GAIA,YACA,gEAKAiC,sDACAA,mJASAS,gEAKA,gCACAC,4CAIA,oCACAA,GACAC,oCAGA9B,cAEAiB,qCAEA,IAAAI,EAAArB,sCAMA+B,0BAEA,+JAIA,+BACAC,sBAEA,SAGA,yBAhBA,4DAoBAnB,qCACAA,wBAEA,IAAAoB,EAAAjC,iEAEA,qDAEA,iDAGAkC,8CAGA,IAAAC,EAAAnC,mEAEA,uDAEA,uDAGAkC,gEAIA,8DAEAE,sCAEAC,2BACAA,yHAQA,YACA,oCAGA,6BAGA,IAAAC,EAAAtC,8LAKAuC,4EACAP,wBAKA,IAAAQ,EAAAxC,YACAqC,oBACAI,4BAEAC,oBACArC,0BAEAP,+EAKA6C,mBACA,8CAIA,oBACA,mBAEA,IAAAC,EAAA5C,YACAqC,oBACAI,2FAEAE,wCAEA,SAEA,kCAGA,IAAAE,EAAA7C,YACAqC,oBACAI,4BAEAC,OACArC,WACAP,UAEAS,6EAMA,yBACAoC,wCAEA,gBAIA,uEAKA,kBAEAlE,KClbAqE,GADiBC,OAFjB,WAA0B,IAAAC,EAAAhD,KAAaiD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,aAAuBF,EAAA,cAAmBG,OAAOC,qBAAA,qCAAAC,qBAAA,uCAAoHL,EAAA,WAAgBM,aAAaC,KAAA,OAAAC,QAAA,SAAAlE,MAAAuD,EAAA,QAAAY,WAAA,YAAsEP,YAAA,qBAAiCF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,SAAcM,aAAaC,KAAA,QAAAC,QAAA,UAAAlE,MAAAuD,EAAAa,QAAA,IAAAD,WAAA,gBAAgFN,OAASlF,KAAA,OAAA0F,YAAA,WAAsCC,UAAWtE,MAAAuD,EAAAa,QAAA,KAA0BG,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCpB,EAAAqB,KAAArB,EAAAa,QAAA,MAAAK,EAAAC,OAAA1E,aAAoDuD,EAAAsB,GAAA,KAAAnB,EAAA,OAA0BE,YAAA,SAAmBF,EAAA,aAAkBG,OAAOiB,KAAA,QAAAnG,KAAA,UAAAoG,KAAA,iBAAAC,OAAA,IAAoET,IAAKU,MAAA1B,EAAA2B,OAAiB3B,EAAAsB,GAAA,KAAAnB,EAAA,aAA8BG,OAAOiB,KAAA,QAAAnG,KAAA,UAAAoG,KAAA,gBAAAC,OAAA,IAAmET,IAAKU,MAAA1B,EAAA4B,UAAmB,KAAA5B,EAAAsB,GAAA,KAAAnB,EAAA,OAA8BE,YAAA,UAAAU,UAAgCc,UAAA7B,EAAA8B,GAAA9B,EAAA+B,SAAA/B,EAAAa,QAAA/D,UAAoDkD,EAAAsB,GAAA,KAAAnB,EAAA,YAA6BG,OAAOlF,KAAA,WAAA4G,UAA8BC,QAAA,GAAWnB,YAAA,aAA2BoB,OAAQzF,MAAAuD,EAAAa,QAAA,KAAAsB,SAAA,SAAAC,GAAkDpC,EAAAqB,KAAArB,EAAAa,QAAA,OAAAuB,IAAmCxB,WAAA,mBAA4B,OAAAZ,EAAAsB,GAAA,KAAAnB,EAAA,OAAgCE,YAAA,eAAyBF,EAAA,UAAAA,EAAA,YAA8BG,OAAOQ,YAAA,YAAAuB,UAAA,IAAyCH,OAAQzF,MAAAuD,EAAA,IAAAmC,SAAA,SAAAC,GAAyCpC,EAAArE,IAAAyG,GAAYxB,WAAA,UAAmB,GAAAZ,EAAAsB,GAAA,KAAAnB,EAAA,UAA+BM,aAAaC,KAAA,OAAAC,QAAA,SAAAlE,MAAAuD,EAAArE,KAAA,GAAAqE,EAAAsC,cAAA1B,WAAA,8BAA4GT,EAAA,aAAkBE,YAAA,UAAAC,OAA6BlF,KAAA,OAAAmH,MAAA,GAAAC,SAAA,KAAyCxC,EAAAsB,GAAA,gBAAAtB,EAAAsB,GAAA,KAAAnB,EAAA,UAAkDM,aAAaC,KAAA,OAAAC,QAAA,SAAAlE,MAAAuD,EAAArE,KAAA,GAAAqE,EAAAsC,cAAA1B,WAAA,8BAA4GT,EAAA,YAAiBE,YAAA,YAAAC,OAA+BnD,MAAA,SAAAqF,SAAA,EAAApH,KAAA,UAAAqH,UAAA,EAAAC,YAAA,OAAkF,GAAA1C,EAAAsB,GAAA,KAAAtB,EAAA2C,GAAA3C,EAAA,uBAAAvE,EAAAH,GAAkE,OAAA0E,EAAArE,KAAA,GAAAqE,EAAAsC,eAAAtC,EAAA4C,eAAA5C,EAAA4C,cAAAC,OAAA1C,EAAA,OAAoGE,YAAA,yBAAmCF,EAAA,WAAAA,EAAA,OAA0BE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,SAAcM,aAAaC,KAAA,QAAAC,QAAA,UAAAlE,MAAAhB,EAAA,OAAAmF,WAAA,gBAA4EN,OAASlF,KAAA,OAAA0F,YAAA,WAAsCC,UAAWtE,MAAAhB,EAAA,QAAsBuF,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCpB,EAAAqB,KAAA5F,EAAA,SAAAyF,EAAAC,OAAA1E,aAAgDuD,EAAAsB,GAAA,KAAAnB,EAAA,OAA0BE,YAAA,SAAmBF,EAAA,aAAkBG,OAAOiB,KAAA,QAAAnG,KAAA,UAAAoG,KAAA,iBAAAC,OAAA,IAAoET,IAAKU,MAAA,SAAAR,GAAyBlB,EAAA8C,OAAArH,EAAA4B,IAAA5B,EAAAqB,KAAArB,EAAA8B,YAA6CyC,EAAAsB,GAAA,KAAAnB,EAAA,aAA8BG,OAAOiB,KAAA,QAAAnG,KAAA,SAAAoG,KAAA,iBAAAC,OAAA,IAAmET,IAAKU,MAAA,SAAAR,GAAyBlB,EAAA+C,GAAAtH,EAAA4B,UAAmB,KAAA2C,EAAAsB,GAAA,KAAAnB,EAAA,OAA8BE,YAAA,UAAAU,UAAgCc,UAAA7B,EAAA8B,GAAA9B,EAAA+B,SAAAtG,EAAAqB,UAA6CkD,EAAAsB,GAAA,KAAAnB,EAAA,YAA6BxE,IAAAL,EAAA0H,IAAA,cAAAC,UAAA,EAAA3C,OAAiD+B,UAAA,GAAAjH,KAAA,WAAA4G,SAAAhC,EAAAkD,WAAA5H,EAAA,OAAyE2G,QAAA,EAAAkB,QAAA,GAAuBrC,YAAA,aAA2BE,IAAKoC,MAAA,SAAAlC,GAAyBlB,EAAAqD,YAAA/H,EAAA,UAA+BgI,KAAA,SAAApC,GAAyBlB,EAAAqD,YAAA/H,EAAA,UAA+B4G,OAAQzF,MAAAhB,EAAA,KAAA0G,SAAA,SAAAC,GAA2CpC,EAAAqB,KAAA5F,EAAA,OAAA2G,IAA4BxB,WAAA,gBAAyB,OAAAZ,EAAAuD,QAAmB,GAAAvD,EAAAsB,GAAA,KAAAtB,EAAA2C,GAAA3C,EAAA,qBAAAvE,EAAAH,GAAgE,OAAA6E,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,WAAAA,EAAA,OAA0BE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,SAAcM,aAAaC,KAAA,QAAAC,QAAA,UAAAlE,MAAAhB,EAAA,OAAAmF,WAAA,gBAA4EN,OAASlF,KAAA,OAAA0F,YAAA,WAAsCC,UAAWtE,MAAAhB,EAAA,QAAsBuF,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCpB,EAAAqB,KAAA5F,EAAA,SAAAyF,EAAAC,OAAA1E,aAAgDuD,EAAAsB,GAAA,KAAAnB,EAAA,OAA0BE,YAAA,SAAmBF,EAAA,aAAkBG,OAAOiB,KAAA,QAAAnG,KAAA,UAAAoG,KAAA,iBAAAC,OAAA,IAAoET,IAAKU,MAAA,SAAAR,GAAyBlB,EAAA8C,OAAArH,EAAA4B,IAAA5B,EAAAqB,KAAArB,EAAA8B,YAA6CyC,EAAAsB,GAAA,KAAAnB,EAAA,aAA8BG,OAAOiB,KAAA,QAAAnG,KAAA,SAAAoG,KAAA,iBAAAC,OAAA,IAAmET,IAAKU,MAAA,SAAAR,GAAyBlB,EAAA+C,GAAAtH,EAAA4B,UAAmB,KAAA2C,EAAAsB,GAAA,KAAAnB,EAAA,OAA8BE,YAAA,UAAAU,UAAgCc,UAAA7B,EAAA8B,GAAA9B,EAAA+B,SAAAtG,EAAAqB,UAA6CkD,EAAAsB,GAAA,KAAAnB,EAAA,YAA6BxE,IAAAL,EAAA0H,IAAA,QAAAC,UAAA,EAAA3C,OAA2C+B,UAAA,GAAAjH,KAAA,WAAA4G,SAAAhC,EAAAgC,SAAA1G,EAAA,OAAuE2G,QAAA,EAAAkB,QAAA,GAAuBrC,YAAA,aAA2BE,IAAKoC,MAAA,SAAAlC,GAAyBlB,EAAAwD,MAAAlI,EAAA,UAAyBgI,KAAA,SAAApC,GAAyBlB,EAAAwD,MAAAlI,EAAA,UAAyB4G,OAAQzF,MAAAhB,EAAA,KAAA0G,SAAA,SAAAC,GAA2CpC,EAAAqB,KAAA5F,EAAA,OAAA2G,IAA4BxB,WAAA,gBAAyB,SAAUZ,EAAAsB,GAAA,KAAAnB,EAAA,iBAAkCM,aAAaC,KAAA,OAAAC,QAAA,SAAAlE,MAAAuD,EAAAP,gBAAA,UAAAmB,WAAA,8BAA0GP,YAAA,aAAAC,OAAkCmD,WAAA,GAAAC,OAAA,oBAAAC,aAAA3D,EAAAP,gBAAAF,WAAwFyB,IAAK4C,iBAAA5D,EAAA6D,eAAiC,IAEhtKC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAzF,EACAsB,GATA,EAVA,SAAAoE,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/2.62083f23fcebf100e24b.js","sourcesContent":["/**\n * utils 工具库\n *@clone 深拷贝对象数组 本地属性。忽略 函数,日期, symbol\n *@realType 获取一个数据的真实类型\n *@extend params (Object...) 接收n个Object，忽略其他类型，递归覆盖\n * Created by liux on 2017/12/13.\n */\nfunction clone(object, extension) {\n  var tmp = null;\n  var type = realType(object);\n  var index = ['array', 'object'].indexOf(type);\n  if (index !== -1) {\n    switch (index) {\n      case 0:\n        tmp = [];\n        object.forEach((item, index) => {\n          let result = clone(item, extension);\n          tmp[index] = result;\n        });\n        break;\n      case 1:\n        tmp = {};\n        for (let key in object) {\n          if (object.hasOwnProperty(key)) {\n            let result = clone(object[key], extension);\n            if(extension === 'underscore2camelCase'){\n              key =  key.replace(/_(\\w)/g, function(all, letter){\n                return letter.toUpperCase();\n              });\n            }\n            tmp[key] = result;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n\n    return tmp;\n  } else {\n    if (['number', 'string', 'null', 'undefined', 'boolean'].indexOf(realType(object)) !== -1) {\n      tmp = object;\n    }\n    return tmp;\n  }\n}\n\n\n\nfunction realType(o) {\n  return Object.prototype.toString.call(o).slice(8, -1).toLowerCase();\n};\n\nfunction parse(value) {\n  var re = '';\n  try {\n    re = JSON.parse(value);\n  } catch (err) {\n    return value;\n  }\n  return re;\n}\n\nfunction extend(...arr) {\n  arr = arr.filter(item => {\n    return realType(item) === 'object';\n  });\n  if (arr.length <= 1) return arr[0];\n  return arr.reduce(function(previousValue, currentValue) {\n    return recursive(previousValue, currentValue);\n  });\n\n}\n\nfunction recursive(taget={}, source) {\n  for (var key in source) {\n    if (realType(source[key]) !== 'object') {\n      taget[key] = source[key];\n    } else {\n      if(realType(taget[key]) === 'object'){\n        taget[key] = recursive(taget[key], source[key]);\n      }else {\n        taget[key] = recursive({}, source[key]);\n      }\n    }\n  }\n  return taget;\n}\n\n\nfunction underscore2camelCase(object) {\n  return clone(object,'underscore2camelCase')\n}\n\nexport {\n  clone,\n  realType,\n  parse,\n  extend,\n  underscore2camelCase\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/helper/utils.js","/**\n * Created by liux on 2018/4/25.\n * @param Object,[Array], [boolean]//测试数据对象，可选的检测顺序，可选的静默检测\n * @return boolean //true:通过\n *\n */\nconst Map = {\n  data(value, slient){\n    try{\n      value = JSON.parse(value)\n    }catch(err){\n      if (!slient) {\n        this.$notify.error({\n        title: 'json格式错误',\n        message: err\n        });\n      }\n      return false;\n    }\n    return value\n  },\n  url(value, slient) {\n    if (/^\\/[^\\s]+$/g.test(value)){\n      return true\n    }else {\n      if (!slient) {\n        this.$notify.error({\n          title: 'url格式错误',\n          message: value\n        });\n      }\n      return false;\n    }\n  },\n  newUrl() {\n    return Map.url.call(this,...arguments)\n  },\n  page(value,slient){\n    if (!value || /^\\d+$/g.test(value)){\n      return true\n    }else {\n      if (!slient) {\n        this.$notify.error({\n          title: '页码格式错误',\n          message: value\n        });\n      }\n      return false;\n    }\n  },\n  opt(value,slient){\n    if (!value.weight || /^\\d+$/g.test(value.weight)){\n      return true\n    }else {\n      if (!slient) {\n        this.$notify.error({\n          title: 'opt格式错误',\n          message: JSON.stringify(value)\n        });\n      }\n      return false;\n    }\n  },\n}\nexport default {\n  methods: {\n    test(obj, arr, slient){\n      if (typeof arr === 'boolean') {\n        slient = arr;\n        arr = null;\n      }\n      arr = arr || Object.keys(obj);\n      return arr.every((key) => {\n        if (typeof Map[key] === 'function') {\n          let re =  Map[key].call(this, obj[key], slient);\n          if (typeof re !== 'boolean'){\n            obj[key] = re;\n          }\n          return re\n        } else {\n          return true\n        }\n      })\n    },\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/module/apiList/mixin.js","<style lang=\"less\" scoped>\n\n\n  .el-main {\n    padding: 10px;\n  }\n\n  .box-card {\n    position: relative;\n    margin-top: 10px;\n\n    .header {\n      display: flex;\n      margin-bottom: 10px;\n\n      .url-box {\n        flex: 1;\n        font-size: 18px;\n        margin-right: 10px;\n\n        input {\n          font-size: 16px;\n          width: 100%;\n          padding: 8px;\n          border-bottom: 1px solid #dcdfe6;\n        }\n      }\n\n      .edit {\n        float: right;\n        text-align: right;\n      }\n    }\n\n    .json-textarea > textarea {\n      overflow: hidden;\n    }\n  }\n\n  .slide-fade-enter-active {\n    transform: translateY(0);\n    transition: all .2s ease;\n  }\n\n  .slide-fade-leave-active {\n    transform: translateY(0);\n    transition: all .2s ease;\n  }\n\n  .slide-fade-enter, .slide-fade-leave-to {\n    transform: translateY(100%);\n\n  }\n\n  .slide-fade-move {\n    transition: transform .2s ease;\n  }\n\n  .add-box {\n    animation-duration: .3s;\n  }\n\n  .search-box {\n    margin-top: 10px;\n    width: 100%;\n    background-color: white;\n    font-size: 18px;\n    .loading{\n      border: none;\n      width: 100%;\n      text-align: left;\n      margin-top: 10px;\n    }\n    .not-found{\n      margin-top: 10px;\n    }\n\n    .search-list{\n      background-color: #fdf6ec;\n      margin-bottom: 20px;\n    }\n    /deep/.el-card{\n      background-color: transparent;\n      input,textarea{\n        background-color: transparent;\n      }\n    }\n  }\n\n  .err-tip {\n    width: 60%;\n    right: 20px;\n    top: 78px;\n    position: absolute;\n    color: #f1592a;\n    font-weight: bold;\n    padding: 0 10px 10px;\n    white-space: pre-line;\n    font-family: Menlo, Monaco, Consolas, \"Courier New\", monospace;\n  }\n  .pagination{\n    margin-top: 20px;\n  }\n\n</style>\n<template>\n  <el-main class=\"main-box\">\n    <transition enter-active-class=\"animated animated-fast slideInDown\"\n                leave-active-class=\"animated animated-fast slideOutUp\">\n      <el-card v-show=\"addFlag\" class=\"box-card add-box\">\n        <div class=\"header\">\n          <div class=\"url-box\">\n            <input type=\"text\" v-model=\"addJson.url\" placeholder=\"请输入接口地址\">\n          </div>\n          <div class=\"edit\">\n            <el-button @click=\"add\" size=\"small\" type=\"success\" icon=\"el-icon-upload\" circle></el-button>\n            <el-button @click=\"clean\" size=\"small\" type=\"warning\" icon=\"el-icon-minus\" circle></el-button>\n          </div>\n        </div>\n        <div class=\"err-tip\" v-html=\"jsonlint(addJson.data)\">\n        </div>\n        <el-input\n          type=\"textarea\"\n          :autosize=\"{minRows: 8}\"\n          placeholder=\"请输入json格式\"\n          v-model=\"addJson.data\">\n        </el-input>\n      </el-card>\n    </transition>\n\n<!--    搜索开始-->\n    <div class=\"search-box\">\n      <el-row>\n        <el-input\n          placeholder=\"请输入url关键字\"\n          v-model=\"key\"\n          clearable\n        >\n        </el-input>\n      </el-row>\n\n      <el-row v-show=\"key && searchLoading==1\">\n        <el-button class=\"loading\" type=\"info\" plain :loading=\"true\">搜索中...</el-button>\n\n      </el-row>\n      <el-row v-show=\"key && searchLoading==2\">\n        <el-alert\n          class=\"not-found\"\n          title=\"搜索结果为空\"\n          :loading=\"true\"\n          type=\"warning\"\n          :closable=\"false\"\n          show-icon>\n        </el-alert>\n      </el-row>\n\n      <div v-if=\"key && searchLoading==3 && searchApiList && searchApiList.length\" v-for=\"(item,index) in searchApiList\" class=\"box-card search-list\">\n        <el-card>\n          <div class=\"header\">\n            <div class=\"url-box\">\n              <input type=\"text\" v-model=\"item.newUrl\" placeholder=\"请输入接口地址\">\n            </div>\n            <div class=\"edit\">\n              <el-button @click=\"update(item.url,item.data,item.newUrl)\" size=\"small\" type=\"success\"\n                         icon=\"el-icon-upload\" circle></el-button>\n              <el-button @click=\"rm(item.url)\" size=\"small\" type=\"danger\" icon=\"el-icon-delete\"\n                         circle></el-button>\n            </div>\n          </div>\n          <div class=\"err-tip\" v-html=\"jsonlint(item.data)\">\n\n          </div>\n          <el-input\n            clearable\n            @focus=\"resetSearch(index,'focus')\"\n            @blur=\"resetSearch(index,'blur')\"\n            ref=\"searchInput\"\n            :key=\"index\"\n            type=\"textarea\"\n            :autosize=\"searchSize[index%1000]||{minRows: 1, maxRows: 2}\"\n            placeholder=\"请输入json格式\"\n            v-model=\"item.data\">\n          </el-input>\n        </el-card>\n      </div>\n    </div>\n<!--    搜索结束 -->\n\n    <!--<transition-group name=\"slide-fade\" tag=\"div\">-->\n    <div v-for=\"(item,index) in showApiList\" class=\"box-card\">\n      <el-card>\n        <div class=\"header\">\n          <div class=\"url-box\">\n            <input type=\"text\" v-model=\"item.newUrl\" placeholder=\"请输入接口地址\">\n          </div>\n          <div class=\"edit\">\n            <el-button @click=\"update(item.url,item.data,item.newUrl)\" size=\"small\" type=\"success\"\n                       icon=\"el-icon-upload\" circle></el-button>\n            <el-button @click=\"rm(item.url)\" size=\"small\" type=\"danger\" icon=\"el-icon-delete\"\n                       circle></el-button>\n          </div>\n        </div>\n        <div class=\"err-tip\" v-html=\"jsonlint(item.data)\">\n\n        </div>\n        <el-input\n          clearable\n          @focus=\"reset(index,'focus')\"\n          @blur=\"reset(index,'blur')\"\n          ref=\"input\"\n          :key=\"index\"\n          type=\"textarea\"\n          :autosize=\"autosize[index%1000]||{minRows: 1, maxRows: 2}\"\n          placeholder=\"请输入json格式\"\n          v-model=\"item.data\">\n        </el-input>\n      </el-card>\n    </div>\n    <!--</transition-group>-->\n    <el-pagination v-show=\"currentJsonData.totalPage\"\n      class=\"pagination\"\n      background\n      layout=\"prev, pager, next\"\n      @current-change=\"selectPage\"\n      :page-count=\"currentJsonData.totalPage\">\n\n    </el-pagination>\n  </el-main>\n\n</template>\n<script>\n  import {mapState, mapGetters} from 'vuex';\n  import jsonlint from 'assets/jsonlint'\n  import {parse} from \"common/helper/utils\";\n  import mixin from './mixin'\n\n  export default {\n    data() {\n      return {\n        addJson: {\n          url: '',\n          data: '',\n        },\n        autosize: [],\n        searchSize:[],\n        key: '',\n        timer: null,\n        searchLoading: 0,// 0:未开始输入，1：输入搜索中，2：搜索为空，3：搜索成功\n        searchApiList:[],\n        allJsonData: {\n          // cardloan:{\n          //   currentPage:1,\n          //   totalPage:6,\n          //   allApiList:{\n          //     1: []\n          //   }\n          // }\n        }\n      }\n    },\n    computed: {\n      ...mapState(['addFlag', 'currentStore', 'storeList']),\n      currentJsonData: {\n        get(){\n          return this.allJsonData[this.currentStore.store] || {\n            currentPage: 1,\n            totalPage: 1,\n            allApiList: {}\n          };\n        },\n        set(obj){\n          obj = Object.assign({},this.currentJsonData,obj)\n          this.$set(this.allJsonData,this.currentStore.store, obj)\n        }\n      },\n      showApiList() {\n        return this.currentJsonData.allApiList[this.currentJsonData.currentPage] || []\n      },\n    },\n    watch: {\n      key(val) {\n        this.searchInit(val)\n      }\n    },\n    beforeRouteEnter(to, from, next) {\n      next(vm => {\n        console.log('beforeRouteEnter')\n        vm.initStore(to);\n      })\n    },\n    beforeRouteUpdate(to, from, next) {\n      log('beforeRouteUpdate')\n      this.initStore(to);\n      next()\n    },\n    created() {\n      window.home = this;\n    },\n    mixins: [mixin],\n    methods: {\n      searchInit(val,now) {\n        if (!val) {\n          this.searchLoading = 0;\n          return\n        }\n        if (this.timer) {\n          clearTimeout(this.timer);\n        }\n        this.searchLoading = 1;\n        this.timer= setTimeout(()=>{\n          this.post('/api/search',{userId: this.currentStore.id,key:val,limitNums:10}).then(json=>{\n            if(json.data&&json.data.length){\n              this.searchLoading=3;\n              this.searchApiList = json.data.map(this.mat)\n            }else {\n              this.searchLoading=2;\n            }\n          })\n        },now?0:100)\n      },\n\n      selectPage(page) {\n        this.currentJsonData = {currentPage: page};\n        this.getApiList(this.currentStore, page);\n      },\n      reset(index, type) {\n        if (type === 'blur') {\n          this.$set(this.autosize, (index % 1000), {minRows: 1, maxRows: 2})\n        } else {\n          this.$set(this.autosize, (index % 1000), {minRows: 1, maxRows: 1000})\n        }\n        this.$nextTick(() => {\n          this.$refs.input[index].resizeTextarea();\n        })\n      },\n      resetSearch(index, type) {\n        if (type === 'blur') {\n          this.$set(this.searchSize, (index % 1000), {minRows: 1, maxRows: 2})\n        } else {\n          this.$set(this.searchSize, (index % 1000), {minRows: 1, maxRows: 1000})\n        }\n        this.$nextTick(() => {\n          this.$refs.searchInput[index].resizeTextarea();\n        })\n      },\n      initStore(to) {\n        var store = to.params.store||'default';\n        var currentStore = this.storeList.filter(item => {\n          return item.store == store\n        })[0] || {}\n        this.commit('currentStore', currentStore);\n        this.initCurrentPageApi(currentStore)\n      },\n      initCurrentPageApi(storeObj) {\n        if (!storeObj.store) {\n          return\n        }\n        if (!this.allJsonData[storeObj.store]) {\n          this.$set(this.allJsonData, storeObj.store, {\n            currentPage: 1,\n            totalPage: 1,\n            allApiList: {}\n          })\n          this.getApiList(storeObj, 1)\n        }\n      },\n      getApiList(storeObj, page = 1) {\n        if (!storeObj.id) {\n          return\n        }\n        this.post('/api/query', {userId: storeObj.id, page, count: 50}).then(json => {\n          this.$set(this.allJsonData[storeObj.store], 'totalPage', json.data.totalPage);\n          this.$set(this.allJsonData[storeObj.store].allApiList, page, json.data.jsonList.map(this.mat))\n        })\n\n      },\n\n      add() {\n        var storeObj = this.currentStore;\n        var currentJsonData = this.currentJsonData;\n        var params = {\n          userId: storeObj.id,\n          url: this.addJson.url,\n          data: JSON.stringify(this.addJson.data)\n        }\n        if (!this.test(params)) {\n          return\n        }\n        this.post('/api/add', params).then(json => {\n          this.getApiList(storeObj, currentJsonData.currentPage)\n          this.tip('新增成功')\n        })\n      },\n      clean() {\n        this.addJson.data = '';\n        this.addJson.url = '';\n      },\n      rm(url) {\n        var storeObj = this.currentStore;\n        var currentJsonData = this.currentJsonData;\n        this.post('/api/rm', {url: url, userId: storeObj.id,}).then(json => {\n          this.getApiList(storeObj, currentJsonData.currentPage)\n          if(this.key){\n            this.searchInit(this.key, true)\n          }\n          this.tip('删除成功')\n        })\n      },\n      update(url, data, newUrl) {\n        var storeObj = this.currentStore;\n        var currentJsonData = this.currentJsonData;\n        var params = {\n          userId: storeObj.id,\n          url: url,\n          data: JSON.stringify(data),\n          newUrl: newUrl,\n        }\n        if (!this.test(params)) {\n          return;\n        }\n        this.post('/api/update', params).then(json => {\n          if(json.data.n){\n            this.tip('更新成功')\n            this.getApiList(storeObj, currentJsonData.currentPage)\n            if(this.key){\n              this.searchInit(this.key, true)\n            }\n\n          }else{\n            this.tip(json.msg, 'error')\n          }\n        })\n      },\n      mat(item) {\n        item.data = JSON.stringify(parse(item.data), null, 2);\n        item.newUrl = item.url;//扩展个字段用于修改URL提交\n        return item\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/module/apiList/api.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',{staticClass:\"main-box\"},[_c('transition',{attrs:{\"enter-active-class\":\"animated animated-fast slideInDown\",\"leave-active-class\":\"animated animated-fast slideOutUp\"}},[_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addFlag),expression:\"addFlag\"}],staticClass:\"box-card add-box\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"url-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addJson.url),expression:\"addJson.url\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入接口地址\"},domProps:{\"value\":(_vm.addJson.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.addJson, \"url\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"edit\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-upload\",\"circle\":\"\"},on:{\"click\":_vm.add}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"icon\":\"el-icon-minus\",\"circle\":\"\"},on:{\"click\":_vm.clean}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"err-tip\",domProps:{\"innerHTML\":_vm._s(_vm.jsonlint(_vm.addJson.data))}}),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 8},\"placeholder\":\"请输入json格式\"},model:{value:(_vm.addJson.data),callback:function ($$v) {_vm.$set(_vm.addJson, \"data\", $$v)},expression:\"addJson.data\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-box\"},[_c('el-row',[_c('el-input',{attrs:{\"placeholder\":\"请输入url关键字\",\"clearable\":\"\"},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}})],1),_vm._v(\" \"),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.key && _vm.searchLoading==1),expression:\"key && searchLoading==1\"}]},[_c('el-button',{staticClass:\"loading\",attrs:{\"type\":\"info\",\"plain\":\"\",\"loading\":true}},[_vm._v(\"搜索中...\")])],1),_vm._v(\" \"),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.key && _vm.searchLoading==2),expression:\"key && searchLoading==2\"}]},[_c('el-alert',{staticClass:\"not-found\",attrs:{\"title\":\"搜索结果为空\",\"loading\":true,\"type\":\"warning\",\"closable\":false,\"show-icon\":\"\"}})],1),_vm._v(\" \"),_vm._l((_vm.searchApiList),function(item,index){return (_vm.key && _vm.searchLoading==3 && _vm.searchApiList && _vm.searchApiList.length)?_c('div',{staticClass:\"box-card search-list\"},[_c('el-card',[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"url-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.newUrl),expression:\"item.newUrl\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入接口地址\"},domProps:{\"value\":(item.newUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"newUrl\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"edit\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-upload\",\"circle\":\"\"},on:{\"click\":function($event){_vm.update(item.url,item.data,item.newUrl)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){_vm.rm(item.url)}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"err-tip\",domProps:{\"innerHTML\":_vm._s(_vm.jsonlint(item.data))}}),_vm._v(\" \"),_c('el-input',{key:index,ref:\"searchInput\",refInFor:true,attrs:{\"clearable\":\"\",\"type\":\"textarea\",\"autosize\":_vm.searchSize[index%1000]||{minRows: 1, maxRows: 2},\"placeholder\":\"请输入json格式\"},on:{\"focus\":function($event){_vm.resetSearch(index,'focus')},\"blur\":function($event){_vm.resetSearch(index,'blur')}},model:{value:(item.data),callback:function ($$v) {_vm.$set(item, \"data\", $$v)},expression:\"item.data\"}})],1)],1):_vm._e()})],2),_vm._v(\" \"),_vm._l((_vm.showApiList),function(item,index){return _c('div',{staticClass:\"box-card\"},[_c('el-card',[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"url-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.newUrl),expression:\"item.newUrl\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入接口地址\"},domProps:{\"value\":(item.newUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"newUrl\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"edit\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-upload\",\"circle\":\"\"},on:{\"click\":function($event){_vm.update(item.url,item.data,item.newUrl)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){_vm.rm(item.url)}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"err-tip\",domProps:{\"innerHTML\":_vm._s(_vm.jsonlint(item.data))}}),_vm._v(\" \"),_c('el-input',{key:index,ref:\"input\",refInFor:true,attrs:{\"clearable\":\"\",\"type\":\"textarea\",\"autosize\":_vm.autosize[index%1000]||{minRows: 1, maxRows: 2},\"placeholder\":\"请输入json格式\"},on:{\"focus\":function($event){_vm.reset(index,'focus')},\"blur\":function($event){_vm.reset(index,'blur')}},model:{value:(item.data),callback:function ($$v) {_vm.$set(item, \"data\", $$v)},expression:\"item.data\"}})],1)],1)}),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentJsonData.totalPage),expression:\"currentJsonData.totalPage\"}],staticClass:\"pagination\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-count\":_vm.currentJsonData.totalPage},on:{\"current-change\":_vm.selectPage}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7728b30a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/apiList/api.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7728b30a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./api.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./api.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./api.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7728b30a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./api.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7728b30a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/apiList/api.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}